<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
   <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Barlow:wght@100;200&family=Delicious+Handrawn&family=Lato:wght@300&family=Poppins:ital,wght@0,200;1,100&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="api.css">

</head>
<body>
    <div class="container">
        <div class="Mycard">
            <h2><i class="fa fa-map-marker" aria-hidden="true"></i>&nbsp;<span id="location" ></span></h2>
            <br>
            <h6 id="weather"></h6>
            <h4><span id="temp"></span><sup>o</sup>C</h4>
            <img src="#" alt="image" id="icon">
            <button   onclick="window.location.reload()" class="refresh btn"><i class="fa fa-refresh"></i></button>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>   
</body>
<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script>
    let link="https://api.weatherapi.com/v1/current.json?key=396db9928d4a444bb58175349231303&q=delhi&aqi=yes";
    let request = new XMLHttpRequest();
    request.open('GET',link,true);
    request.onload = function(){
        let obj = JSON.parse(this.response)
        console.log(obj)
        document.getElementById("location").innerHTML = obj.location?.name;
        document.getElementById("temp").innerHTML = obj.current?.temp_c;
        document.getElementById("icon").src = obj.current?.condition?.icon;
        document.getElementById("weather").innerHTML = obj.current?.condition?.text;

        if(request.status >=200 && request.status < 400){
            let temp = obj.current?.temp_c;
            console.log("temp",temp)
            let city = obj.location?.name;
            console.log("city",city)
            let image = obj.current?.condition?.icon;
            console.log("icon",image)

        }
        else{
            console.log("request is not complited")
        }
    }
    request.send();



</script>
</html>